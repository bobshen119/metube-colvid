{"ast":null,"code":"import { faTrashAlt, faCheckCircle, faTimesCircle } from '@fortawesome/free-regular-svg-icons';\nimport { faRedoAlt, faSun, faMoon, faCircleHalfStroke, faCheck, faExternalLinkAlt, faDownload } from '@fortawesome/free-solid-svg-icons';\nimport { map } from 'rxjs';\nimport { Formats } from './formats';\nimport { Themes } from './theme';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./downloads.service\";\nimport * as i2 from \"ngx-cookie-service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i6 from \"@fortawesome/angular-fontawesome\";\nimport * as i7 from \"@ng-select/ng-select\";\nimport * as i8 from \"./master-checkbox.component\";\nimport * as i9 from \"./downloads.pipe\";\nconst _c0 = [\"queueMasterCheckbox\"];\nconst _c1 = [\"queueDelSelected\"];\nconst _c2 = [\"doneMasterCheckbox\"];\nconst _c3 = [\"doneDelSelected\"];\nconst _c4 = [\"doneClearCompleted\"];\nconst _c5 = [\"doneClearFailed\"];\nconst _c6 = [\"doneRetryFailed\"];\nconst _c7 = () => ({\n  \"flex-grow\": \"1\"\n});\nconst _c8 = a0 => ({\n  \"active\": a0\n});\nconst _c9 = a0 => ({\n  \"d-none\": a0\n});\nfunction AppComponent_li_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\")(1, \"button\", 63);\n    i0.ɵɵlistener(\"click\", function AppComponent_li_9_Template_button_click_1_listener() {\n      const theme_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.themeChanged(theme_r3));\n    });\n    i0.ɵɵelementStart(2, \"span\", 64);\n    i0.ɵɵelement(3, \"fa-icon\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementStart(5, \"span\", 65);\n    i0.ɵɵelement(6, \"fa-icon\", 16);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const theme_r3 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(5, _c8, ctx_r3.activeTheme == theme_r3));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", theme_r3.icon);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", theme_r3.displayName, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c9, ctx_r3.activeTheme != theme_r3));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r3.faCheck);\n  }\n}\nfunction AppComponent_option_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 31);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const q_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", q_r5.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(q_r5.text);\n  }\n}\nfunction AppComponent_option_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 31);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const f_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", f_r6.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(f_r6.text);\n  }\n}\nfunction AppComponent_span_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 66);\n  }\n}\nfunction AppComponent_button_45_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 67);\n    i0.ɵɵlistener(\"click\", function AppComponent_button_45_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      i0.ɵɵnextContext();\n      const advancedDropdown_r8 = i0.ɵɵreference(41);\n      return i0.ɵɵresetView(advancedDropdown_r8.open());\n    });\n    i0.ɵɵelementStart(1, \"span\", 68);\n    i0.ɵɵtext(2, \"Advanced options\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r3.addInProgress || ctx_r3.downloads.loading);\n  }\n}\nfunction AppComponent_div_70_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 69);\n    i0.ɵɵtext(1, \" Connecting to server... \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_tr_93_button_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 76);\n    i0.ɵɵlistener(\"click\", function AppComponent_tr_93_button_17_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const download_r11 = i0.ɵɵnextContext().$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.downloadItemByKey(download_r11.key));\n    });\n    i0.ɵɵelement(1, \"fa-icon\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r3.faDownload);\n  }\n}\nfunction AppComponent_tr_93_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵelement(2, \"app-slave-checkbox\", 70);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 71)(4, \"div\", 72)(5, \"div\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"ngb-progressbar\", 73);\n    i0.ɵɵpipe(8, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"speed\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"eta\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\")(16, \"div\", 74);\n    i0.ɵɵtemplate(17, AppComponent_tr_93_button_17_Template, 2, 1, \"button\", 75);\n    i0.ɵɵelementStart(18, \"button\", 76);\n    i0.ɵɵlistener(\"click\", function AppComponent_tr_93_Template_button_click_18_listener() {\n      const download_r11 = i0.ɵɵrestoreView(_r9).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.delDownload(\"queue\", download_r11.key));\n    });\n    i0.ɵɵelement(19, \"fa-icon\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"a\", 77);\n    i0.ɵɵelement(21, \"fa-icon\", 16);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const download_r11 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    const queueMasterCheckbox_r12 = i0.ɵɵreference(84);\n    i0.ɵɵclassProp(\"disabled\", download_r11.value.deleting);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"id\", download_r11.key)(\"master\", queueMasterCheckbox_r12)(\"checkable\", download_r11.value);\n    i0.ɵɵadvance();\n    i0.ɵɵpropertyInterpolate(\"title\", download_r11.value.filename);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(download_r11.value.title);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"showValue\", download_r11.value.status != \"preparing\")(\"striped\", download_r11.value.status == \"preparing\")(\"animated\", download_r11.value.status == \"preparing\")(\"value\", download_r11.value.status == \"preparing\" ? 100 : i0.ɵɵpipeBind2(8, 17, download_r11.value.percent, \"1.0-0\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(11, 20, download_r11.value.speed));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(14, 22, download_r11.value.eta));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", download_r11.value.status === \"pending\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", ctx_r3.faTrashAlt);\n    i0.ɵɵadvance();\n    i0.ɵɵpropertyInterpolate(\"href\", download_r11.value.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r3.faExternalLinkAlt);\n  }\n}\nfunction AppComponent_tr_127_fa_icon_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"fa-icon\", 85);\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"icon\", ctx_r3.faCheckCircle);\n  }\n}\nfunction AppComponent_tr_127_fa_icon_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"fa-icon\", 86);\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"icon\", ctx_r3.faTimesCircle);\n  }\n}\nfunction AppComponent_tr_127_a_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 87);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const download_r14 = i0.ɵɵnextContext().$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"href\", ctx_r3.buildDownloadLink(download_r14.value), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(download_r14.value.title);\n  }\n}\nfunction AppComponent_tr_127_ng_template_9_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelement(1, \"br\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const download_r14 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(download_r14.value.msg);\n  }\n}\nfunction AppComponent_tr_127_ng_template_9_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelement(1, \"br\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const download_r14 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Error: \", download_r14.value.error, \"\");\n  }\n}\nfunction AppComponent_tr_127_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n    i0.ɵɵtemplate(1, AppComponent_tr_127_ng_template_9_span_1_Template, 3, 1, \"span\", 83)(2, AppComponent_tr_127_ng_template_9_span_2_Template, 3, 1, \"span\", 83);\n  }\n  if (rf & 2) {\n    const download_r14 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵtextInterpolate1(\" \", download_r14.value.title, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", download_r14.value.msg);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", download_r14.value.error);\n  }\n}\nfunction AppComponent_tr_127_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"fileSize\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const download_r14 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, download_r14.value.size));\n  }\n}\nfunction AppComponent_tr_127_button_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 76);\n    i0.ɵɵlistener(\"click\", function AppComponent_tr_127_button_15_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const download_r14 = i0.ɵɵnextContext().$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.retryDownload(download_r14.key, download_r14.value));\n    });\n    i0.ɵɵelement(1, \"fa-icon\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r3.faRedoAlt);\n  }\n}\nfunction AppComponent_tr_127_a_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 88);\n    i0.ɵɵelement(1, \"fa-icon\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const download_r14 = i0.ɵɵnextContext().$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"href\", ctx_r3.buildDownloadLink(download_r14.value), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r3.faDownload);\n  }\n}\nfunction AppComponent_tr_127_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵelement(2, \"app-slave-checkbox\", 70);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"div\", 78);\n    i0.ɵɵtemplate(5, AppComponent_tr_127_fa_icon_5_Template, 1, 1, \"fa-icon\", 79)(6, AppComponent_tr_127_fa_icon_6_Template, 1, 1, \"fa-icon\", 80);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 81);\n    i0.ɵɵtemplate(8, AppComponent_tr_127_a_8_Template, 2, 2, \"a\", 82);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, AppComponent_tr_127_ng_template_9_Template, 3, 3, \"ng-template\", null, 9, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtemplate(12, AppComponent_tr_127_span_12_Template, 3, 3, \"span\", 83);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\")(14, \"div\", 74);\n    i0.ɵɵtemplate(15, AppComponent_tr_127_button_15_Template, 2, 1, \"button\", 75)(16, AppComponent_tr_127_a_16_Template, 2, 2, \"a\", 84);\n    i0.ɵɵelementStart(17, \"a\", 77);\n    i0.ɵɵelement(18, \"fa-icon\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"button\", 76);\n    i0.ɵɵlistener(\"click\", function AppComponent_tr_127_Template_button_click_19_listener() {\n      const download_r14 = i0.ɵɵrestoreView(_r13).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.delDownload(\"done\", download_r14.key));\n    });\n    i0.ɵɵelement(20, \"fa-icon\", 16);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const download_r14 = ctx.$implicit;\n    const noDownloadLink_r16 = i0.ɵɵreference(10);\n    const ctx_r3 = i0.ɵɵnextContext();\n    const doneMasterCheckbox_r17 = i0.ɵɵreference(120);\n    i0.ɵɵclassProp(\"disabled\", download_r14.value.deleting);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"id\", download_r14.key)(\"master\", doneMasterCheckbox_r17)(\"checkable\", download_r14.value);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", download_r14.value.status == \"finished\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", download_r14.value.status == \"error\");\n    i0.ɵɵadvance();\n    i0.ɵɵpropertyInterpolate2(\"ngbTooltip\", \"\", download_r14.value.msg, \" | \", download_r14.value.error, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !!download_r14.value.filename)(\"ngIfElse\", noDownloadLink_r16);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", download_r14.value.size);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", download_r14.value.status == \"error\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", download_r14.value.filename);\n    i0.ɵɵadvance();\n    i0.ɵɵpropertyInterpolate(\"href\", download_r14.value.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r3.faExternalLinkAlt);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", ctx_r3.faTrashAlt);\n  }\n}\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(downloads, cookieService) {\n      this.downloads = downloads;\n      this.cookieService = cookieService;\n      this.formats = Formats;\n      this.addInProgress = false;\n      this.themes = Themes;\n      this.faTrashAlt = faTrashAlt;\n      this.faCheckCircle = faCheckCircle;\n      this.faTimesCircle = faTimesCircle;\n      this.faRedoAlt = faRedoAlt;\n      this.faSun = faSun;\n      this.faMoon = faMoon;\n      this.faCheck = faCheck;\n      this.faCircleHalfStroke = faCircleHalfStroke;\n      this.faDownload = faDownload;\n      this.faExternalLinkAlt = faExternalLinkAlt;\n      this.format = cookieService.get('metube_format') || 'any';\n      // Needs to be set or qualities won't automatically be set\n      this.setQualities();\n      this.quality = cookieService.get('metube_quality') || 'best';\n      this.autoStart = cookieService.get('metube_auto_start') !== 'false';\n      this.activeTheme = this.getPreferredTheme(cookieService);\n    }\n    ngOnInit() {\n      this.getConfiguration();\n      this.customDirs$ = this.getMatchingCustomDir();\n      this.setTheme(this.activeTheme);\n      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {\n        if (this.activeTheme.id === 'auto') {\n          this.setTheme(this.activeTheme);\n        }\n      });\n    }\n    ngAfterViewInit() {\n      this.downloads.queueChanged.subscribe(() => {\n        this.queueMasterCheckbox.selectionChanged();\n      });\n      this.downloads.doneChanged.subscribe(() => {\n        this.doneMasterCheckbox.selectionChanged();\n        let completed = 0,\n          failed = 0;\n        this.downloads.done.forEach(dl => {\n          if (dl.status === 'finished') completed++;else if (dl.status === 'error') failed++;\n        });\n        this.doneClearCompleted.nativeElement.disabled = completed === 0;\n        this.doneClearFailed.nativeElement.disabled = failed === 0;\n        this.doneRetryFailed.nativeElement.disabled = failed === 0;\n      });\n    }\n    // workaround to allow fetching of Map values in the order they were inserted\n    //  https://github.com/angular/angular/issues/31420\n    asIsOrder(a, b) {\n      return 1;\n    }\n    qualityChanged() {\n      this.cookieService.set('metube_quality', this.quality, {\n        expires: 3650\n      });\n      // Re-trigger custom directory change\n      this.downloads.customDirsChanged.next(this.downloads.customDirs);\n    }\n    showAdvanced() {\n      return this.downloads.configuration['CUSTOM_DIRS'];\n    }\n    allowCustomDir(tag) {\n      if (this.downloads.configuration['CREATE_CUSTOM_DIRS']) {\n        return tag;\n      }\n      return false;\n    }\n    isAudioType() {\n      return this.quality == 'audio' || this.format == 'mp3' || this.format == 'm4a' || this.format == 'opus' || this.format == 'wav' || this.format == 'flac';\n    }\n    getMatchingCustomDir() {\n      return this.downloads.customDirsChanged.asObservable().pipe(map(output => {\n        // Keep logic consistent with app/ytdl.py\n        if (this.isAudioType()) {\n          console.debug(\"Showing audio-specific download directories\");\n          return output[\"audio_download_dir\"];\n        } else {\n          console.debug(\"Showing default download directories\");\n          return output[\"download_dir\"];\n        }\n      }));\n    }\n    getConfiguration() {\n      this.downloads.configurationChanged.subscribe({\n        next: config => {\n          this.playlistStrictMode = config['DEFAULT_OPTION_PLAYLIST_STRICT_MODE'];\n          const playlistItemLimit = config['DEFAULT_OPTION_PLAYLIST_ITEM_LIMIT'];\n          if (playlistItemLimit !== '0') {\n            this.playlistItemLimit = playlistItemLimit;\n          }\n        }\n      });\n    }\n    getPreferredTheme(cookieService) {\n      let theme = 'auto';\n      if (cookieService.check('metube_theme')) {\n        theme = cookieService.get('metube_theme');\n      }\n      return this.themes.find(x => x.id === theme) ?? this.themes.find(x => x.id === 'auto');\n    }\n    themeChanged(theme) {\n      this.cookieService.set('metube_theme', theme.id, {\n        expires: 3650\n      });\n      this.setTheme(theme);\n    }\n    setTheme(theme) {\n      this.activeTheme = theme;\n      if (theme.id === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n        document.documentElement.setAttribute('data-bs-theme', 'dark');\n      } else {\n        document.documentElement.setAttribute('data-bs-theme', theme.id);\n      }\n    }\n    formatChanged() {\n      this.cookieService.set('metube_format', this.format, {\n        expires: 3650\n      });\n      // Updates to use qualities available\n      this.setQualities();\n      // Re-trigger custom directory change\n      this.downloads.customDirsChanged.next(this.downloads.customDirs);\n    }\n    autoStartChanged() {\n      this.cookieService.set('metube_auto_start', this.autoStart ? 'true' : 'false', {\n        expires: 3650\n      });\n    }\n    queueSelectionChanged(checked) {\n      this.queueDelSelected.nativeElement.disabled = checked == 0;\n    }\n    doneSelectionChanged(checked) {\n      this.doneDelSelected.nativeElement.disabled = checked == 0;\n    }\n    setQualities() {\n      // qualities for specific format\n      this.qualities = this.formats.find(el => el.id == this.format).qualities;\n      const exists = this.qualities.find(el => el.id === this.quality);\n      this.quality = exists ? this.quality : 'best';\n    }\n    addDownload(url, quality, format, folder, customNamePrefix, playlistStrictMode, playlistItemLimit, autoStart) {\n      url = url ?? this.addUrl;\n      quality = quality ?? this.quality;\n      format = format ?? this.format;\n      folder = folder ?? this.folder;\n      customNamePrefix = customNamePrefix ?? this.customNamePrefix;\n      playlistStrictMode = playlistStrictMode ?? this.playlistStrictMode;\n      playlistItemLimit = playlistItemLimit ?? this.playlistItemLimit;\n      autoStart = autoStart ?? this.autoStart;\n      console.debug('Downloading: url=' + url + ' quality=' + quality + ' format=' + format + ' folder=' + folder + ' customNamePrefix=' + customNamePrefix + ' playlistStrictMode=' + playlistStrictMode + ' playlistItemLimit=' + playlistItemLimit + ' autoStart=' + autoStart);\n      this.addInProgress = true;\n      this.downloads.add(url, quality, format, folder, customNamePrefix, playlistStrictMode, playlistItemLimit, autoStart).subscribe(status => {\n        if (status.status === 'error') {\n          alert(`Error adding URL: ${status.msg}`);\n        } else {\n          this.addUrl = '';\n        }\n        this.addInProgress = false;\n      });\n    }\n    downloadItemByKey(id) {\n      this.downloads.startById([id]).subscribe();\n    }\n    retryDownload(key, download) {\n      this.addDownload(download.url, download.quality, download.format, download.folder, download.custom_name_prefix, download.playlist_strict_mode, download.playlist_item_limit, true);\n      this.downloads.delById('done', [key]).subscribe();\n    }\n    delDownload(where, id) {\n      this.downloads.delById(where, [id]).subscribe();\n    }\n    delSelectedDownloads(where) {\n      this.downloads.delByFilter(where, dl => dl.checked).subscribe();\n    }\n    clearCompletedDownloads() {\n      this.downloads.delByFilter('done', dl => dl.status === 'finished').subscribe();\n    }\n    clearFailedDownloads() {\n      this.downloads.delByFilter('done', dl => dl.status === 'error').subscribe();\n    }\n    retryFailedDownloads() {\n      this.downloads.done.forEach((dl, key) => {\n        if (dl.status === 'error') {\n          this.retryDownload(key, dl);\n        }\n      });\n    }\n    buildDownloadLink(download) {\n      let baseDir = this.downloads.configuration[\"PUBLIC_HOST_URL\"];\n      if (download.quality == 'audio' || download.filename.endsWith('.mp3')) {\n        baseDir = this.downloads.configuration[\"PUBLIC_HOST_AUDIO_URL\"];\n      }\n      if (download.folder) {\n        baseDir += download.folder + '/';\n      }\n      return baseDir + encodeURIComponent(download.filename);\n    }\n    identifyDownloadRow(index, row) {\n      return row.key;\n    }\n    isNumber(event) {\n      const charCode = event.which ? event.which : event.keyCode;\n      if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n        event.preventDefault();\n      }\n    }\n    static {\n      this.ɵfac = function AppComponent_Factory(t) {\n        return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.DownloadsService), i0.ɵɵdirectiveInject(i2.CookieService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AppComponent,\n        selectors: [[\"app-root\"]],\n        viewQuery: function AppComponent_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(_c0, 5);\n            i0.ɵɵviewQuery(_c1, 5);\n            i0.ɵɵviewQuery(_c2, 5);\n            i0.ɵɵviewQuery(_c3, 5);\n            i0.ɵɵviewQuery(_c4, 5);\n            i0.ɵɵviewQuery(_c5, 5);\n            i0.ɵɵviewQuery(_c6, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.queueMasterCheckbox = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.queueDelSelected = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.doneMasterCheckbox = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.doneDelSelected = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.doneClearCompleted = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.doneClearFailed = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.doneRetryFailed = _t.first);\n          }\n        },\n        decls: 129,\n        vars: 53,\n        consts: [[\"f\", \"ngForm\"], [\"advancedDropdown\", \"ngbDropdown\"], [\"queueDelSelected\", \"\"], [\"queueMasterCheckbox\", \"\"], [\"doneDelSelected\", \"\"], [\"doneClearCompleted\", \"\"], [\"doneClearFailed\", \"\"], [\"doneRetryFailed\", \"\"], [\"doneMasterCheckbox\", \"\"], [\"noDownloadLink\", \"\"], [1, \"navbar\", \"navbar-expand-md\", \"navbar-dark\"], [1, \"container-fluid\"], [\"href\", \"#\", 1, \"navbar-brand\"], [1, \"navbar-nav\", \"ms-auto\"], [1, \"nav-item\", \"dropdown\"], [\"id\", \"theme-select\", \"type\", \"button\", \"aria-expanded\", \"false\", \"data-bs-toggle\", \"dropdown\", \"data-bs-display\", \"static\", 1, \"btn\", \"btn-link\", \"nav-link\", \"py-2\", \"px-0\", \"px-sm-2\", \"dropdown-toggle\", \"d-flex\", \"align-items-center\"], [3, \"icon\"], [\"aria-labelledby\", \"theme-select\", 1, \"dropdown-menu\", \"dropdown-menu-end\", \"position-absolute\"], [4, \"ngFor\", \"ngForOf\"], [\"role\", \"main\", 1, \"container\", \"container-xl\"], [1, \"container\", \"add-url-box\"], [1, \"row\"], [1, \"col\", \"add-url-component\", \"input-group\"], [\"type\", \"text\", \"autocomplete\", \"off\", \"spellcheck\", \"false\", \"placeholder\", \"Video or playlist URL\", \"name\", \"addUrl\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\", \"disabled\"], [1, \"col-md-6\", \"col-lg-3\", \"add-url-component\"], [1, \"input-group\"], [1, \"input-group-text\"], [\"name\", \"quality\", 1, \"form-select\", 3, \"ngModelChange\", \"change\", \"ngModel\", \"disabled\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"format\", 1, \"form-select\", 3, \"ngModelChange\", \"change\", \"ngModel\", \"disabled\"], [\"name\", \"autoStart\", 1, \"form-select\", 3, \"ngModelChange\", \"change\", \"ngModel\", \"disabled\"], [3, \"ngValue\"], [\"ngbDropdown\", \"\", \"display\", \"dynamic\", \"placement\", \"bottom-end\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"add-url\", 3, \"click\", \"disabled\"], [\"class\", \"spinner-border spinner-border-sm\", \"role\", \"status\", \"id\", \"add-spinner\", 4, \"ngIf\"], [\"class\", \"btn btn-primary dropdown-toggle dropdown-toggle-split\", \"id\", \"advancedButton\", \"type\", \"button\", \"title\", \"Advanced options\", \"ngbDropdownAnchor\", \"\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"ngbDropdownMenu\", \"\", \"aria-labelledby\", \"advancedButton\", 1, \"dropdown-menu\", \"dropdown-menu-end\", \"folder-dropdown-menu\"], [1, \"container\"], [1, \"input-group\", \"add-url-component\"], [\"placeholder\", \"Default\", \"addTagText\", \"Create directory\", \"bindLabel\", \"folder\", 3, \"ngModelChange\", \"items\", \"addTag\", \"ngStyle\", \"ngModel\", \"disabled\"], [\"type\", \"text\", \"autocomplete\", \"off\", \"spellcheck\", \"false\", \"placeholder\", \"Default\", \"name\", \"customNamePrefix\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\", \"disabled\"], [1, \"add-url-component\"], [1, \"row\", \"align-items-center\", \"gy-2\"], [1, \"col-12\", \"col-md-6\", \"order-md-2\"], [\"type\", \"number\", \"min\", \"0\", \"autocomplete\", \"off\", \"placeholder\", \"Default\", \"name\", \"playlistItemLimit\", 1, \"form-control\", 3, \"keydown\", \"ngModelChange\", \"ngModel\", \"disabled\"], [1, \"col-12\", \"col-md-6\", \"order-md-1\"], [1, \"input-group\", \"ms-1\"], [1, \"form-check\", \"form-switch\"], [\"type\", \"checkbox\", \"role\", \"switch\", \"name\", \"playlistStrictMode\", 1, \"form-check-input\", 3, \"ngModelChange\", \"ngModel\", \"disabled\"], [1, \"form-check-label\"], [\"class\", \"alert alert-info\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"metube-section-header\"], [1, \"px-2\", \"py-3\", \"border-bottom\"], [\"type\", \"button\", \"disabled\", \"\", 1, \"btn\", \"btn-link\", \"text-decoration-none\", \"px-0\", \"me-4\", 3, \"click\"], [1, \"overflow-auto\"], [1, \"table\"], [\"scope\", \"col\", 2, \"width\", \"1rem\"], [3, \"changed\", \"id\", \"list\"], [\"scope\", \"col\"], [\"scope\", \"col\", 2, \"width\", \"8rem\"], [\"scope\", \"col\", 2, \"width\", \"7rem\"], [\"scope\", \"col\", 2, \"width\", \"6rem\"], [3, \"disabled\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"type\", \"button\", 1, \"dropdown-item\", \"d-flex\", \"align-items-center\", 3, \"click\", \"ngClass\"], [1, \"me-2\", \"opacity-50\"], [1, \"ms-auto\", 3, \"ngClass\"], [\"role\", \"status\", \"id\", \"add-spinner\", 1, \"spinner-border\", \"spinner-border-sm\"], [\"id\", \"advancedButton\", \"type\", \"button\", \"title\", \"Advanced options\", \"ngbDropdownAnchor\", \"\", 1, \"btn\", \"btn-primary\", \"dropdown-toggle\", \"dropdown-toggle-split\", 3, \"click\", \"disabled\"], [1, \"sr-only\"], [\"role\", \"alert\", 1, \"alert\", \"alert-info\"], [3, \"id\", \"master\", \"checkable\"], [3, \"title\"], [1, \"d-flex\", \"flex-column\", \"flex-sm-row\", \"align-items-center\", \"row-gap-2\", \"column-gap-3\"], [\"height\", \"1.5rem\", \"type\", \"success\", 1, \"download-progressbar\", 3, \"showValue\", \"striped\", \"animated\", \"value\"], [1, \"d-flex\"], [\"type\", \"button\", \"class\", \"btn btn-link\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-link\", 3, \"click\"], [\"target\", \"_blank\", 1, \"btn\", \"btn-link\", 3, \"href\"], [2, \"display\", \"inline-block\", \"width\", \"1.5rem\"], [\"class\", \"text-success\", 3, \"icon\", 4, \"ngIf\"], [\"class\", \"text-danger\", 3, \"icon\", 4, \"ngIf\"], [3, \"ngbTooltip\"], [\"target\", \"_blank\", 3, \"href\", 4, \"ngIf\", \"ngIfElse\"], [4, \"ngIf\"], [\"download\", \"\", \"class\", \"btn btn-link\", 3, \"href\", 4, \"ngIf\"], [1, \"text-success\", 3, \"icon\"], [1, \"text-danger\", 3, \"icon\"], [\"target\", \"_blank\", 3, \"href\"], [\"download\", \"\", 1, \"btn\", \"btn-link\", 3, \"href\"]],\n        template: function AppComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            const _r1 = i0.ɵɵgetCurrentView();\n            i0.ɵɵelementStart(0, \"nav\", 10)(1, \"div\", 11)(2, \"a\", 12);\n            i0.ɵɵtext(3, \"colvid\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"div\", 13)(5, \"div\", 14)(6, \"button\", 15);\n            i0.ɵɵelement(7, \"fa-icon\", 16);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"ul\", 17);\n            i0.ɵɵtemplate(9, AppComponent_li_9_Template, 7, 9, \"li\", 18);\n            i0.ɵɵelementEnd()()()()();\n            i0.ɵɵelementStart(10, \"main\", 19)(11, \"form\", null, 0)(13, \"div\", 20)(14, \"div\", 21)(15, \"div\", 22)(16, \"input\", 23);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_16_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              i0.ɵɵtwoWayBindingSet(ctx.addUrl, $event) || (ctx.addUrl = $event);\n              return i0.ɵɵresetView($event);\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(17, \"div\", 21)(18, \"div\", 24)(19, \"div\", 25)(20, \"span\", 26);\n            i0.ɵɵtext(21, \"Quality\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(22, \"select\", 27);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AppComponent_Template_select_ngModelChange_22_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              i0.ɵɵtwoWayBindingSet(ctx.quality, $event) || (ctx.quality = $event);\n              return i0.ɵɵresetView($event);\n            });\n            i0.ɵɵlistener(\"change\", function AppComponent_Template_select_change_22_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.qualityChanged());\n            });\n            i0.ɵɵtemplate(23, AppComponent_option_23_Template, 2, 2, \"option\", 28);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(24, \"div\", 24)(25, \"div\", 25)(26, \"span\", 26);\n            i0.ɵɵtext(27, \"Format\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(28, \"select\", 29);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AppComponent_Template_select_ngModelChange_28_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              i0.ɵɵtwoWayBindingSet(ctx.format, $event) || (ctx.format = $event);\n              return i0.ɵɵresetView($event);\n            });\n            i0.ɵɵlistener(\"change\", function AppComponent_Template_select_change_28_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.formatChanged());\n            });\n            i0.ɵɵtemplate(29, AppComponent_option_29_Template, 2, 2, \"option\", 28);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(30, \"div\", 24)(31, \"div\", 25)(32, \"span\", 26);\n            i0.ɵɵtext(33, \"Auto Start\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(34, \"select\", 30);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AppComponent_Template_select_ngModelChange_34_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              i0.ɵɵtwoWayBindingSet(ctx.autoStart, $event) || (ctx.autoStart = $event);\n              return i0.ɵɵresetView($event);\n            });\n            i0.ɵɵlistener(\"change\", function AppComponent_Template_select_change_34_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.autoStartChanged());\n            });\n            i0.ɵɵelementStart(35, \"option\", 31);\n            i0.ɵɵtext(36, \"Yes\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(37, \"option\", 31);\n            i0.ɵɵtext(38, \"No\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(39, \"div\", 24)(40, \"div\", 32, 1)(42, \"button\", 33);\n            i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_42_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.addDownload());\n            });\n            i0.ɵɵtemplate(43, AppComponent_span_43_Template, 1, 0, \"span\", 34);\n            i0.ɵɵtext(44);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(45, AppComponent_button_45_Template, 3, 1, \"button\", 35);\n            i0.ɵɵelementStart(46, \"div\", 36)(47, \"div\", 37)(48, \"div\", 38)(49, \"span\", 26);\n            i0.ɵɵtext(50, \"Download Folder\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(51, \"ng-select\", 39);\n            i0.ɵɵpipe(52, \"async\");\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AppComponent_Template_ng_select_ngModelChange_51_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              i0.ɵɵtwoWayBindingSet(ctx.folder, $event) || (ctx.folder = $event);\n              return i0.ɵɵresetView($event);\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(53, \"div\", 38)(54, \"span\", 26);\n            i0.ɵɵtext(55, \"Custom Name Prefix\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(56, \"input\", 40);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_56_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              i0.ɵɵtwoWayBindingSet(ctx.customNamePrefix, $event) || (ctx.customNamePrefix = $event);\n              return i0.ɵɵresetView($event);\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(57, \"div\", 41)(58, \"div\", 42)(59, \"div\", 43)(60, \"div\", 25)(61, \"span\", 26);\n            i0.ɵɵtext(62, \"Items limit\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(63, \"input\", 44);\n            i0.ɵɵlistener(\"keydown\", function AppComponent_Template_input_keydown_63_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.isNumber($event));\n            });\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_63_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              i0.ɵɵtwoWayBindingSet(ctx.playlistItemLimit, $event) || (ctx.playlistItemLimit = $event);\n              return i0.ɵɵresetView($event);\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(64, \"div\", 45)(65, \"div\", 46)(66, \"div\", 47)(67, \"input\", 48);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_67_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              i0.ɵɵtwoWayBindingSet(ctx.playlistStrictMode, $event) || (ctx.playlistStrictMode = $event);\n              return i0.ɵɵresetView($event);\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(68, \"label\", 49);\n            i0.ɵɵtext(69, \"Strict Playlist mode\");\n            i0.ɵɵelementEnd()()()()()()()()()()()()();\n            i0.ɵɵtemplate(70, AppComponent_div_70_Template, 2, 0, \"div\", 50);\n            i0.ɵɵelementStart(71, \"div\", 51);\n            i0.ɵɵtext(72, \"Downloading\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(73, \"div\", 52)(74, \"button\", 53, 2);\n            i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_74_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.delSelectedDownloads(\"queue\"));\n            });\n            i0.ɵɵelement(76, \"fa-icon\", 16);\n            i0.ɵɵtext(77, \"\\u00A0 Cancel selected\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(78, \"div\", 54)(79, \"table\", 55)(80, \"thead\")(81, \"tr\")(82, \"th\", 56)(83, \"app-master-checkbox\", 57, 3);\n            i0.ɵɵlistener(\"changed\", function AppComponent_Template_app_master_checkbox_changed_83_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.queueSelectionChanged($event));\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(85, \"th\", 58);\n            i0.ɵɵtext(86, \"Video\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(87, \"th\", 59);\n            i0.ɵɵtext(88, \"Speed\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(89, \"th\", 60);\n            i0.ɵɵtext(90, \"ETA\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(91, \"th\", 61);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(92, \"tbody\");\n            i0.ɵɵtemplate(93, AppComponent_tr_93_Template, 22, 24, \"tr\", 62);\n            i0.ɵɵpipe(94, \"keyvalue\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(95, \"div\", 51);\n            i0.ɵɵtext(96, \"Completed\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(97, \"div\", 52)(98, \"button\", 53, 4);\n            i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_98_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.delSelectedDownloads(\"done\"));\n            });\n            i0.ɵɵelement(100, \"fa-icon\", 16);\n            i0.ɵɵtext(101, \"\\u00A0 Clear selected\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(102, \"button\", 53, 5);\n            i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_102_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.clearCompletedDownloads());\n            });\n            i0.ɵɵelement(104, \"fa-icon\", 16);\n            i0.ɵɵtext(105, \"\\u00A0 Clear completed\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(106, \"button\", 53, 6);\n            i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_106_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.clearFailedDownloads());\n            });\n            i0.ɵɵelement(108, \"fa-icon\", 16);\n            i0.ɵɵtext(109, \"\\u00A0 Clear failed\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(110, \"button\", 53, 7);\n            i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_110_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.retryFailedDownloads());\n            });\n            i0.ɵɵelement(112, \"fa-icon\", 16);\n            i0.ɵɵtext(113, \"\\u00A0 Retry failed\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(114, \"div\", 54)(115, \"table\", 55)(116, \"thead\")(117, \"tr\")(118, \"th\", 56)(119, \"app-master-checkbox\", 57, 8);\n            i0.ɵɵlistener(\"changed\", function AppComponent_Template_app_master_checkbox_changed_119_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.doneSelectionChanged($event));\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(121, \"th\", 58);\n            i0.ɵɵtext(122, \"Video\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(123, \"th\", 58);\n            i0.ɵɵtext(124, \"File Size\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(125, \"th\", 59);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(126, \"tbody\");\n            i0.ɵɵtemplate(127, AppComponent_tr_127_Template, 21, 18, \"tr\", 62);\n            i0.ɵɵpipe(128, \"keyvalue\");\n            i0.ɵɵelementEnd()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"icon\", ctx.activeTheme.icon);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngForOf\", ctx.themes);\n            i0.ɵɵadvance(7);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.addUrl);\n            i0.ɵɵproperty(\"disabled\", ctx.addInProgress || ctx.downloads.loading);\n            i0.ɵɵadvance(6);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.quality);\n            i0.ɵɵproperty(\"disabled\", ctx.addInProgress || ctx.downloads.loading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngForOf\", ctx.qualities);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.format);\n            i0.ɵɵproperty(\"disabled\", ctx.addInProgress || ctx.downloads.loading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngForOf\", ctx.formats);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.autoStart);\n            i0.ɵɵproperty(\"disabled\", ctx.addInProgress || ctx.downloads.loading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngValue\", true);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngValue\", false);\n            i0.ɵɵadvance(3);\n            i0.ɵɵattribute(\"class\", ctx.showAdvanced() ? \"btn-group add-url-group\" : \"add-url-group\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"disabled\", ctx.addInProgress || ctx.downloads.loading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.addInProgress);\n            i0.ɵɵadvance();\n            i0.ɵɵtextInterpolate1(\" \", ctx.addInProgress ? \"Adding...\" : \"Add\", \" \");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.showAdvanced());\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"items\", i0.ɵɵpipeBind1(52, 44, ctx.customDirs$))(\"addTag\", ctx.allowCustomDir.bind(ctx))(\"ngStyle\", i0.ɵɵpureFunction0(52, _c7));\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.folder);\n            i0.ɵɵproperty(\"disabled\", ctx.addInProgress || ctx.downloads.loading);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.customNamePrefix);\n            i0.ɵɵproperty(\"disabled\", ctx.addInProgress || ctx.downloads.loading);\n            i0.ɵɵadvance(7);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.playlistItemLimit);\n            i0.ɵɵproperty(\"disabled\", ctx.addInProgress || ctx.downloads.loading);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.playlistStrictMode);\n            i0.ɵɵproperty(\"disabled\", ctx.addInProgress || ctx.downloads.loading);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.downloads.loading);\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"icon\", ctx.faTrashAlt);\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"id\", \"queue\")(\"list\", ctx.downloads.queue);\n            i0.ɵɵadvance(10);\n            i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(94, 46, ctx.downloads.queue, ctx.asIsOrder))(\"ngForTrackBy\", ctx.identifyDownloadRow);\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"icon\", ctx.faTrashAlt);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"icon\", ctx.faCheckCircle);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"icon\", ctx.faTimesCircle);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"icon\", ctx.faRedoAlt);\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"id\", \"done\")(\"list\", ctx.downloads.done);\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(128, 49, ctx.downloads.done, ctx.asIsOrder))(\"ngForTrackBy\", ctx.identifyDownloadRow);\n          }\n        },\n        dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i3.NgStyle, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.CheckboxControlValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.MinValidator, i4.NgModel, i4.NgForm, i5.NgbDropdown, i5.NgbDropdownAnchor, i5.NgbDropdownMenu, i5.NgbProgressbar, i5.NgbTooltip, i6.FaIconComponent, i7.NgSelectComponent, i8.MasterCheckboxComponent, i8.SlaveCheckboxComponent, i3.AsyncPipe, i3.DecimalPipe, i3.KeyValuePipe, i9.EtaPipe, i9.SpeedPipe, i9.FileSizePipe],\n        styles: [\".button-toggle-theme[_ngcontent-%COMP%]:focus, .button-toggle-theme[_ngcontent-%COMP%]:active{box-shadow:none;outline:0px}.add-url-box[_ngcontent-%COMP%]{max-width:960px;margin:4rem auto}.add-url-component[_ngcontent-%COMP%]{margin:.5rem auto}.add-url-group[_ngcontent-%COMP%], button.add-url[_ngcontent-%COMP%]{width:100%}.folder-dropdown-menu[_ngcontent-%COMP%]{width:500px;max-width:calc(100vw - 3rem)}.folder-dropdown-menu[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{display:flex;padding-left:5px;padding-right:5px}.metube-section-header[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:300;position:relative;background:var(--bs-secondary-bg);padding:.5rem 0;margin-top:3.5rem}.metube-section-header[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;inset:0 0 0 -9999px;border-left:9999px solid var(--bs-secondary-bg);box-shadow:9999px 0 0 var(--bs-secondary-bg)}button[_ngcontent-%COMP%]:hover{text-decoration:none}th[_ngcontent-%COMP%]{border-top:0;border-bottom-width:3px!important;vertical-align:middle!important;white-space:nowrap}td[_ngcontent-%COMP%]{vertical-align:middle}.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.form-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:5px}.download-progressbar[_ngcontent-%COMP%]{width:12rem;margin-left:auto}\"]\n      });\n    }\n  }\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}